import permissionService from "../services/permission.service.js";
export const PERMISSIONS = {
    CUSTOMERS_READ: "customers.read",
    CUSTOMERS_CREATE: "customers.create",
    CUSTOMERS_UPDATE: "customers.update",
    CUSTOMERS_DELETE: "customers.delete",
    TICKETS_READ: "tickets.read",
    TICKETS_CREATE: "tickets.create",
    TICKETS_UPDATE: "tickets.update",
    TICKETS_ASSIGN: "tickets.assign",
    TICKETS_UPDATE_STATUS: "tickets.updateStatus",
    TICKETS_ADD_NOTES: "tickets.addNotes",
    TICKETS_DELETE: "tickets.delete",
    INVOICES_READ: "invoices.read",
    INVOICES_CREATE: "invoices.create",
    INVOICES_UPDATE: "invoices.update",
    INVOICES_DELETE: "invoices.delete",
    INVOICES_MANAGE_ITEMS: "invoices.manageItems",
    INVOICES_MARK_PAID: "invoices.markPaid",
    INVENTORY_READ: "inventory.read",
    INVENTORY_CREATE: "inventory.create",
    INVENTORY_UPDATE: "inventory.update",
    INVENTORY_DELETE: "inventory.delete",
    PURCHASE_ORDERS_READ: "purchaseOrders.read",
    PURCHASE_ORDERS_CREATE: "purchaseOrders.create",
    PURCHASE_ORDERS_UPDATE: "purchaseOrders.update",
    PURCHASE_ORDERS_RECEIVE: "purchaseOrders.receive",
    PURCHASE_ORDERS_CANCEL: "purchaseOrders.cancel",
    PURCHASE_ORDERS_DELETE: "purchaseOrders.delete",
    INVENTORY_TRANSFERS_READ: "inventoryTransfers.read",
    INVENTORY_TRANSFERS_CREATE: "inventoryTransfers.create",
    INVENTORY_TRANSFERS_COMPLETE: "inventoryTransfers.complete",
    INVENTORY_TRANSFERS_CANCEL: "inventoryTransfers.cancel",
    INVITATIONS_READ: "invitations.read",
    INVITATIONS_CREATE: "invitations.create",
    INVITATIONS_DELETE: "invitations.delete",
    SETTINGS_ACCESS: "settings.access",
    PERMISSIONS_VIEW: "permissions.view",
    PERMISSIONS_MANAGE: "permissions.manage",
};
export const ROLE_PERMISSIONS = {
    admin: [
        PERMISSIONS.CUSTOMERS_READ,
        PERMISSIONS.CUSTOMERS_CREATE,
        PERMISSIONS.CUSTOMERS_UPDATE,
        PERMISSIONS.CUSTOMERS_DELETE,
        PERMISSIONS.TICKETS_READ,
        PERMISSIONS.TICKETS_CREATE,
        PERMISSIONS.TICKETS_UPDATE,
        PERMISSIONS.TICKETS_ASSIGN,
        PERMISSIONS.TICKETS_UPDATE_STATUS,
        PERMISSIONS.TICKETS_ADD_NOTES,
        PERMISSIONS.TICKETS_DELETE,
        PERMISSIONS.INVOICES_READ,
        PERMISSIONS.INVOICES_CREATE,
        PERMISSIONS.INVOICES_UPDATE,
        PERMISSIONS.INVOICES_DELETE,
        PERMISSIONS.INVOICES_MANAGE_ITEMS,
        PERMISSIONS.INVOICES_MARK_PAID,
        PERMISSIONS.INVENTORY_READ,
        PERMISSIONS.INVENTORY_CREATE,
        PERMISSIONS.INVENTORY_UPDATE,
        PERMISSIONS.INVENTORY_DELETE,
        PERMISSIONS.PURCHASE_ORDERS_READ,
        PERMISSIONS.PURCHASE_ORDERS_CREATE,
        PERMISSIONS.PURCHASE_ORDERS_UPDATE,
        PERMISSIONS.PURCHASE_ORDERS_RECEIVE,
        PERMISSIONS.PURCHASE_ORDERS_CANCEL,
        PERMISSIONS.PURCHASE_ORDERS_DELETE,
        PERMISSIONS.INVENTORY_TRANSFERS_READ,
        PERMISSIONS.INVENTORY_TRANSFERS_CREATE,
        PERMISSIONS.INVENTORY_TRANSFERS_COMPLETE,
        PERMISSIONS.INVENTORY_TRANSFERS_CANCEL,
        PERMISSIONS.INVITATIONS_READ,
        PERMISSIONS.INVITATIONS_CREATE,
        PERMISSIONS.INVITATIONS_DELETE,
        PERMISSIONS.SETTINGS_ACCESS,
        PERMISSIONS.PERMISSIONS_VIEW,
        PERMISSIONS.PERMISSIONS_MANAGE,
    ],
    manager: [
        PERMISSIONS.CUSTOMERS_READ,
        PERMISSIONS.CUSTOMERS_CREATE,
        PERMISSIONS.CUSTOMERS_UPDATE,
        PERMISSIONS.TICKETS_READ,
        PERMISSIONS.TICKETS_ASSIGN,
        PERMISSIONS.TICKETS_UPDATE_STATUS,
        PERMISSIONS.INVOICES_READ,
        PERMISSIONS.INVOICES_CREATE,
        PERMISSIONS.INVOICES_UPDATE,
        PERMISSIONS.INVOICES_MANAGE_ITEMS,
        PERMISSIONS.INVOICES_MARK_PAID,
        PERMISSIONS.INVENTORY_READ,
        PERMISSIONS.INVENTORY_CREATE,
        PERMISSIONS.INVENTORY_UPDATE,
        PERMISSIONS.INVENTORY_DELETE,
        PERMISSIONS.PURCHASE_ORDERS_READ,
        PERMISSIONS.PURCHASE_ORDERS_CREATE,
        PERMISSIONS.PURCHASE_ORDERS_UPDATE,
        PERMISSIONS.PURCHASE_ORDERS_RECEIVE,
        PERMISSIONS.PURCHASE_ORDERS_CANCEL,
        PERMISSIONS.INVENTORY_TRANSFERS_READ,
        PERMISSIONS.INVENTORY_TRANSFERS_CREATE,
        PERMISSIONS.INVENTORY_TRANSFERS_COMPLETE,
        PERMISSIONS.INVENTORY_TRANSFERS_CANCEL,
        PERMISSIONS.SETTINGS_ACCESS,
    ],
    technician: [
        PERMISSIONS.CUSTOMERS_READ,
        PERMISSIONS.TICKETS_READ,
        PERMISSIONS.TICKETS_CREATE,
        PERMISSIONS.TICKETS_UPDATE,
        PERMISSIONS.TICKETS_UPDATE_STATUS,
        PERMISSIONS.TICKETS_ADD_NOTES,
        PERMISSIONS.INVOICES_READ,
        PERMISSIONS.INVENTORY_READ,
        PERMISSIONS.PURCHASE_ORDERS_READ,
        PERMISSIONS.INVENTORY_TRANSFERS_READ,
        PERMISSIONS.SETTINGS_ACCESS,
    ],
    frontdesk: [
        PERMISSIONS.CUSTOMERS_READ,
        PERMISSIONS.CUSTOMERS_CREATE,
        PERMISSIONS.CUSTOMERS_UPDATE,
        PERMISSIONS.TICKETS_READ,
        PERMISSIONS.TICKETS_CREATE,
        PERMISSIONS.INVENTORY_READ,
        PERMISSIONS.PURCHASE_ORDERS_READ,
        PERMISSIONS.SETTINGS_ACCESS,
    ],
};
export async function getPermissionsForRole(role, companyId) {
    try {
        return await permissionService.getPermissionsForRole(role, companyId);
    }
    catch (error) {
        console.warn("Failed to load permissions from database, using config fallback:", error);
        return ROLE_PERMISSIONS[role] || [];
    }
}
export async function getPermissionsMatrix(companyId) {
    try {
        return await permissionService.getPermissionsMatrix(companyId);
    }
    catch (error) {
        console.warn("Failed to load permissions matrix from database, using config fallback:", error);
        return ROLE_PERMISSIONS;
    }
}
//# sourceMappingURL=permissions.js.map